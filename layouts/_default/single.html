{{ define "main" }}
<main class="post">
  <h2 class="post-title">{{ .Title }}</h2>

  {{ if ne .Section "posts"}}
  <article class="content">{{ .Content }}</article>
  {{ else }}
  <div class="metadata">
    <div class="grey">
      {{ if .Site.Params.showWordCount }}
      <span>{{ .WordCount }} words</span>
      {{ end }} {{ if gt .ReadingTime 1 }} {{ .Scratch.Set "timeUnit" "mins" }}
      {{ else }} {{ .Scratch.Set "timeUnit" "min" }} {{ end }} {{ if
      .Site.Params.showReadingTime }}
      <span>~{{.ReadingTime}} {{ .Scratch.Get "timeUnit" }}</span>
      {{ end }}
      <time>
        {{ with .Date }}
        <i class="fa-solid fa-calendar-days"></i>
        {{ . | time.Format ":date_long" }} {{ end }} {{ with .PublishDate }}
        <i class="fa-solid fa-calendar-days"></i>
        {{ . | time.Format ":date_long" }} {{ end }}
      </time>
    </div>
    <div class="non-grey">
      <div class="keywords">
        {{ range .Params.categories }}
        <b
          ><a class="link" href='{{ "categories" | absURL }}/{{ . | urlize }}'
            >#{{ . }}</a
          ></b
        >
        {{ end }} {{ range .Params.tags }}
        <a class="link" href='{{ "tags" | absURL }}/{{ . | urlize }}'
          >#{{ . }}</a
        >
        {{ end }}
      </div>
    </div>
  </div>
  <p class="summary">{{ .Params.Summary }}</p>
  <article class="content">{{ .Content }}</article>
  <div id="share-buttons">{{ partial "share-buttons.html" . }}</div>
  <div class="paginator">
    {{ if .PrevInSection }}
    <a class="link" href="{{ .PrevInSection.Permalink }}">← prev</a>
    {{ else }}
    <a></a>
    {{ end }} {{ if .NextInSection }}
    <a class="link" href="{{ .NextInSection.Permalink }}">next →</a>
    {{ else }}
    <a></a>
    {{ end }}
  </div>
  <div class="comment">{{ template "_internal/disqus.html" . }}</div>
  {{ end }}
</main>
{{ end }}
