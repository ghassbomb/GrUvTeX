{{ define "main" }}
<main>
  {{ $paginator := .Paginate (where .Site.RegularPages "Type" "==" "posts") }}
  {{ range $paginator.Pages }}
  <div class="post">
    <h2>
      <a href="{{ .Permalink }}">{{ .Title }}</a>
      <div style="margin-top: 0; margin-bottom: 10px;" class="metadata">
        {{ if .Site.Params.showWordCount }}
        <span>{{ .WordCount }} words</span>
        {{ end }} {{ if gt .ReadingTime 1 }} {{ .Scratch.Set "timeUnit" "mins"
        }} {{ else }} {{ .Scratch.Set "timeUnit" "min" }} {{ end }} {{ if
        .Site.Params.showReadingTime }}
        <span>~{{.ReadingTime}} {{ .Scratch.Get "timeUnit" }}</span>
        {{ end }}

        <time>
          {{ with .Date }}
          <i class="fa-solid fa-calendar-days"></i>
          {{ . | time.Format ":date_long" }} {{ end }} {{ with .PublishDate }}
          <i class="fa-solid fa-calendar-days"></i>
          {{ . | time.Format ":date_long" }} {{ end }}
        </time>
      </div>
    </h2>
    {{ if ne .Params.tags nil }}
    <div>
      {{ range .Params.categories }}
      <b><a class="link" href='{{ "categories" | absURL }}/{{ . | urlize }}'>#{{ . }}</a></b>
      {{ end }}
      {{ range .Params.tags }}
      <a class="link" href='{{ "tags" | absURL }}/{{ . | urlize }}'>#{{ . }}</a>
      {{ end }}
    </div>
    {{ end }}
    <div class="content">
      <p class="summary">{{ .Summary }}</p>
    </div>
  </div>
  {{ end }} {{ if or $paginator.HasPrev $paginator.HasNext}}
  <div class="paginator">
    {{ if $paginator.HasPrev }}
    <a class="link" href="{{ $paginator.Prev.URL }}">← prev</a>
    {{ else }}
    <a></a>
    {{ end }} {{ if $paginator.HasNext }}
    <a class="link" href="{{ $paginator.Next.URL }}">next →</a>
    {{ else }}
    <a></a>
    {{ end }}
  </div>
  {{ end }}
</main>
{{ end }}
